% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tna-animate.R
\name{tna_animate}
\alias{tna_animate}
\title{Create Animated GIF of TNA Network Evolution}
\usage{
tna_animate(
  x,
  window_size = 5,
  step = 1,
  fps = 2,
  loop = 0,
  na_threshold = 0.5,
  output = "tna_animation.gif",
  width = 600,
  height = 600,
  title_template = "Time \%d-\%d",
  ...
)
}
\arguments{
\item{x}{A wide data.frame where rows are sequences (individuals/cases) and
columns are time points. Cell values should be states (character or factor).}

\item{window_size}{Number of time points per window. Default is 5.}

\item{step}{Step size between windows. Use 1 for sliding windows (default),
or set equal to \code{window_size} for tumbling (non-overlapping) windows.}

\item{fps}{Frames per second in the output GIF. Default is 2.}

\item{loop}{Number of times the animation loops. 0 means infinite loop (default).}

\item{na_threshold}{Maximum proportion of NA values allowed in a window.
If exceeded, animation stops at that point. Default is 0.5.}

\item{output}{Output file path for the GIF. Default is "tna_animation.gif".}

\item{width}{Width of the output GIF in pixels. Default is 600.}

\item{height}{Height of the output GIF in pixels. Default is 600.}

\item{title_template}{Template for frame titles using sprintf format.
Should contain two \verb{\%d} placeholders for start and end time indices.
Default is "Time \%d-\%d".}

\item{...}{Additional arguments passed to \code{\link[=tplot]{tplot()}} for customizing
the network appearance (e.g., layout, node_fill, edge_color).}
}
\value{
Invisibly returns the path to the output GIF file.
}
\description{
Generates an animated GIF showing how a TNA (Transition Network Analysis)
network evolves over time, using rolling windows over sequence data.
}
\details{
The animation workflow:
\enumerate{
\item Generate rolling windows over the input sequence data
\item For each window, estimate a TNA model using \code{tna::tna()}
\item Render each TNA model as a plot frame using \code{\link[=tplot]{tplot()}}
\item Combine frames into an animated GIF using \code{gifski::gifski()}
}

The function requires the \code{gifski} and \code{tna} packages to be installed.
}
\examples{
\dontrun{
# Create sample sequence data
set.seed(123)
states <- c("A", "B", "C")
data <- data.frame(matrix(
  sample(states, 100 * 15, replace = TRUE),
  nrow = 100, ncol = 15
))

# Basic animation
tna_animate(data, window_size = 5, fps = 2)

# Slower animation with larger windows
tna_animate(data,
  window_size = 10,
  step = 2,
  fps = 1,
  output = "slow_animation.gif"
)

# Customize appearance
tna_animate(data,
  window_size = 5,
  layout = "circle",
  node_fill = "steelblue",
  edge_color = "gray40"
)
}
}
\seealso{
\code{\link[=tna_windows]{tna_windows()}} for generating windowed TNA objects without animation,
\code{\link[=tplot]{tplot()}} for the underlying plotting function.
}
