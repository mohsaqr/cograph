% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/layout-spring.R
\name{layout_spring}
\alias{layout_spring}
\title{Fruchterman-Reingold Spring Layout}
\usage{
layout_spring(
  network,
  iterations = 500,
  cooling = 0.95,
  repulsion = 1,
  attraction = 1,
  seed = NULL,
  initial = NULL,
  max_displacement = NULL,
  anchor_strength = 0
)
}
\arguments{
\item{network}{A CographNetwork object.}

\item{iterations}{Number of iterations (default: 500).}

\item{cooling}{Rate of temperature decrease (default: 0.95).}

\item{repulsion}{Repulsion constant (default: 1).}

\item{attraction}{Attraction constant (default: 1).}

\item{seed}{Random seed for reproducibility.}

\item{initial}{Optional initial coordinates (matrix or data frame).
For animations, pass the previous frame's layout to ensure smooth transitions.}

\item{max_displacement}{Maximum distance a node can move from its initial
position (default: NULL = no limit). Useful for animations to prevent
large jumps between frames. Values like 0.05-0.1 work well.}

\item{anchor_strength}{Strength of force pulling nodes toward initial positions
(default: 0). Higher values (e.g., 0.5-2) keep nodes closer to their starting
positions. Only applies when \code{initial} is provided.}
}
\value{
Data frame with x, y coordinates.
}
\description{
Compute node positions using the Fruchterman-Reingold force-directed
algorithm. Nodes connected by edges are attracted to each other while
all nodes repel each other.
}
\examples{
adj <- matrix(c(0, 1, 1, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 1, 1, 0), nrow = 4)
net <- CographNetwork$new(adj)
coords <- layout_spring(net, seed = 42)

# For animations: use previous layout as initial with constraints
coords2 <- layout_spring(net, initial = coords, max_displacement = 0.05)
}
