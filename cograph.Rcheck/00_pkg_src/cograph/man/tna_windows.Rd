% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tna-animate.R
\name{tna_windows}
\alias{tna_windows}
\title{Generate Windowed TNA Objects from Sequence Data}
\usage{
tna_windows(x, window_size = 5, step = 1, na_threshold = 0.5)
}
\arguments{
\item{x}{A wide data.frame where rows are sequences (individuals/cases) and
columns are time points. Cell values should be states (character or factor).}

\item{window_size}{Number of time points per window. Default is 5.}

\item{step}{Step size between windows. Use 1 for sliding windows (default),
or set equal to \code{window_size} for tumbling (non-overlapping) windows.}

\item{na_threshold}{Maximum proportion of NA values allowed in a window.
If exceeded, window generation stops early. Default is 0.5.}
}
\value{
A list with components:
\item{windows}{List of tna objects, one per valid window}
\item{start_times}{Integer vector of window start column indices}
\item{end_times}{Integer vector of window end column indices}
\item{na_proportions}{Numeric vector of NA proportions per window}
\item{stopped_early}{Logical indicating if generation stopped due to NA threshold}
\item{stopped_at}{If stopped early, the window index where it stopped}
}
\description{
Creates a series of TNA (Transition Network Analysis) models from rolling
windows over wide-format sequence data.
}
\details{
The function iterates through the columns of the input data frame using
sliding or tumbling windows. For each window, it:
\enumerate{
\item Extracts the subset of columns
\item Checks the NA proportion against the threshold
\item If valid, estimates a TNA model using \code{tna::tna()}
}

Window generation stops when either all windows are processed or the NA
proportion exceeds the threshold.
}
\examples{
\dontrun{
# Create sample sequence data
set.seed(123)
states <- c("A", "B", "C")
data <- data.frame(matrix(
  sample(states, 100 * 10, replace = TRUE),
  nrow = 100, ncol = 10
))

# Generate windowed TNA models
result <- tna_windows(data, window_size = 5, step = 1)

# Check how many windows were created
length(result$windows)
}
}
\seealso{
\code{\link[=tna_animate]{tna_animate()}} for creating animated GIFs from sequence data.
}
